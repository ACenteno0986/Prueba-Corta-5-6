# Prueba Corta 5 y 6
Alejandro Centeno Chaves - 2017169579
Redes Gr 20

### 1.a.
Si es posible, pero para que sea practico tanto el cliente como el servidor deben saber cómo manejar las solicitudes que no sean HTTPs. Este puerto es el estándar para manejar ese tipo de solicitudes, pero también puede estar disponible en el puerto 80 (Tanenbaum, 2003, p. 813). Es importante liberar este puerto, y dejar saber a las aplicaciones que estén escuchando cómo deben responder a los paquetes enviados por este puerto.
### 1.b. 
En este caso, se puede seguir el subprotocolo estándar que ya existe para establecer una conexión SSL. Tomando en cuenta el libro de Redes de Computadoras, de Andrew Tanenbaum, en la página 814, se describe el proceso para generar la conexión:
1. Primero, uno de los involucrados, llamémoslo cliente, hace la solicitud de conexión al segundo, al cual llamaremos servidor. En este caso, la solicitud va acompañada de la versión de SSL que, en este caso, sería el nuevo protocolo ATPs, así como datos sobre los algoritmos criptográficos y de comprensión que puede procesar, adicional a lo anterior también se envía marca aleatoria.
2. Una vez completado esto, el servidor escoge los algoritmos a utilizar, dentro de los que el cliente le indique que puede utilizar y procede a enviar su propia marca aleatoria.
3. Luego de esto, el servidor envía un segundo mensaje con un certificado que contiene la llave pública de este. Es importante que este certificado sea valido para poder establecer una conexión segura. Si se logra anclar la clave pública del servidor a alguna de las precargadas en el cliente, el servidor puede solicitar datos adicionales, como la clave publica del cliente. 
4. Ahora el cliente puede elegir una clave premaestra aleatoria de 348 bits. Esta clave se envía encriptada con la clave del servidor. De la clave premaestra y las marcas aleatorias se deriva la clave de sesión, o la clave que será utilizada para encriptar los mensajes entre ambos.
5. El cliente le solicitará al servidor que cambie al nuevo cifrado y pasará a indicar que ha terminado su parte del subprotocolo. El servidor deberá confirmar e indicar que ha terminado su parte del subprotocolo.

### 1.c. 
Técnicamente se podría transportar ATPs sobre HTTPs. Al fin y al cabo, los ATPs serían paquetes de tipo ATP que pueden viajar a través de protocolo HTTPs. Al fin y al cabo, “cada interacción (en http) consiste en una solicitud ASCII, seguida por una respuesta tipo MIME” (Tanenbaum, 2003, p.651). Los paquetes de tipo ATP pueden ser encriptados utilizando un protocolo SSL y enviados a través de HTTPs. Esto colocaría una doble capa de protección, porque ya de por si el protocolo HTTPs se encuentra encriptado bajo SSL, por lo que su contenido también lo está.

### 1.d. 
El puerto TCP/80 es un puerto más estandarizado, por el que se realizan conexiones. Al ser un puerto de uso estándar, es muy probable que esté disponible en la mayoría de las terminales para que los paquetes ATS puedan llegar a su destino. El uso del puerto TCP/666 u otro puerto considerado no estándar puede implicar que las conexiones sean directamente rechazadas por el firewall. Curiosamente, viendo datos en internet del puerto TCP/666, está reservado, al menos en Windows, por id Software, compañía desarrolladora de DOOM, videojuego que trata sobre cazar demonios. (http://tcp-udp-ports.com/port-666.htm)

### 2.
PKI o Infraestructura de Clave Publica (Public Key Infrastructure), contiene los siguientes elementos, los cuales son necesarios para explicar su funcionamiento: usuarios, CA (Autoridad de Certificación) y RA (Autoridades Regionales). Con estos elementos se genera una jerarquía que valida las claves publicas que son utilizadas durante el proceso de comunicación entre varias terminales. Inicialmente, el cliente pide el certificado del servidor para poder validar que la comunicación es segura, pero para poder validar que esta clave es real y valida, debe acceder a la CA que la certificó para confirmar su autenticidad. Una vez que el cliente ha validado la clave publica con la CA, puede validar también que la CA que dio su autorización sea válida, por lo que puede acceder a la RA que certificó a la CA para buscar por la clave publica de la CA y la firma raíz de la RA.
Lo anterior ejemplifica el proceso y el proceso base y la jerarquía que siguen los certificados, los cuales son emitidos por la CA que son certificadas a su vez por las Ras. En la práctica, el servidor se encarga de enviar todos los certificados necesarios para la validación de la conexión y la encriptación de los datos que se van a transmitir, el usuario puede validar esto con los certificados, o anclas, que fueron configurados de forma inicial.
Una vez que se obtiene la información del certificado, se puede validar la conexión y utilizar la llave pública del servidor para iniciar el envió de mensajes, como es el caso del envío de la clave premaestra en el subprotocolo de conexión de HTTPs.